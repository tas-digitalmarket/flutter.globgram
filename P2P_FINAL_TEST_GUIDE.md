# ๐ ุฑุงูููุง ุชุณุช ฺฉุงูู P2P Chat

## ๐ง ุชุบุฑุงุช ุงูุฌุงู ุดุฏู ุจุฑุง ุฑูุน ูุดฺฉู

### โ ูุดฺฉูุงุช ูุจู:
1. **Singleton Pattern**: ููู ุชุจโูุง ุงุฒ ฺฉ instance ุงุณุชูุงุฏู ูโฺฉุฑุฏูุฏ
2. **ูพุงูโูุง ุจู ุฎูุฏ ูุฑุณุชูุฏู ุจุฑูโฺฏุดุช**: ุจู ุฏูู ุงุดุชุฑุงฺฉ instance
3. **Peer ุฏูู join ููโุดุฏ**: ฺูู BroadcastChannel share ูโุดุฏ

### โ ุฑุงูโุญูโูุง ูพุงุฏูโุณุงุฒ ุดุฏู:
1. **ุญุฐู Singleton Pattern** ุงุฒ:
   - `BroadcastSignalingService`
   - `P2PManager` 
   - `WebRTCService`

2. **ุชุตุญุญ data structure** ุฏุฑ chat message handling

3. **ุจูุจูุฏ ููุงุด Room ID** ู ุฏฺฉูู ฺฉูพ

---

## ๐ ูุฑุงุญู ุชุณุช (ูุฑุญูู ุจู ูุฑุญูู)

### ูุฑุญูู 1: ุขูุงุฏูโุณุงุฒ
```bash
cd "d:\ุจุฑูุงูู ููุณ\globgramflutter"
flutter run -d web-server --web-port 8081
```

### ูุฑุญูู 2: ุจุงุฒ ฺฉุฑุฏู ุชุจ ุงูู (ฺฉุงุฑุจุฑ A)
1. ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ: `http://localhost:8081`
2. ุตูุญู ุงุตู Globgram ุจุงุฑฺฏุฐุงุฑ ูโุดูุฏ
3. ุฑู **"Create Room"** ฺฉูฺฉ ฺฉูุฏ
4. Room ID ุชููุฏ ูโุดูุฏ (ูุซู "ABC123")
5. ุฑู **"Copy ID"** ฺฉูฺฉ ฺฉูุฏ
6. Room ID ฺฉูพ ุดุฏ
7. ุฑู **"Join Room"** ฺฉูฺฉ ฺฉูุฏ
8. ูุงุฑุฏ ุตูุญู ฺุช ูโุดูุฏ

### ูุฑุญูู 3: ุจุงุฒ ฺฉุฑุฏู ุชุจ ุฏูู (ฺฉุงุฑุจุฑ B)
1. **ุชุจ ุฌุฏุฏ** ุจุงุฒ ฺฉูุฏ: `http://localhost:8081`
2. ุฏุฑ ููุฏ "Room Name" ููุงู Room ID ุฑุง paste ฺฉูุฏ
3. ุฑู **"Join Room"** ฺฉูฺฉ ฺฉูุฏ
4. ูุงุฑุฏ ุตูุญู ฺุช ูโุดูุฏ

### ูุฑุญูู 4: ุจุฑุฑุณ ุงุชุตุงู
ุฏุฑ ูุฑ ุฏู ุชุจ ุจุงุฏ ุจุจูุฏ:
- **Room ID ฺฉุณุงู**: ูุซู "ABC123"
- **Peer ID ูุชูุงูุช**: ูุฑ ุชุจ ุดูุงุณู ููุญุตุฑ ุจู ูุฑุฏ ุฏุงุฑุฏ
- **ูุถุนุช ุงุชุตุงู**: "Connecting" ุณูพุณ "Connected"

### ูุฑุญูู 5: ุชุณุช ุงุฑุณุงู ูพุงู
1. ุฏุฑ **ุชุจ ุงูู** ูพุงู ุชุงูพ ฺฉูุฏ: "ุณูุงู ุงุฒ ฺฉุงุฑุจุฑ 1"
2. Enter ุจุฒูุฏ ุง "Send" ฺฉูฺฉ ฺฉูุฏ
3. **ุงูุชุธุงุฑ**: ูพุงู ุจุงุฏ ููุท ุฏุฑ **ุชุจ ุฏูู** ุธุงูุฑ ุดูุฏ
4. ุฏุฑ **ุชุจ ุฏูู** ูพุงุณุฎ ุฏูุฏ: "ุณูุงู ุงุฒ ฺฉุงุฑุจุฑ 2" 
5. **ุงูุชุธุงุฑ**: ูพุงู ุจุงุฏ ููุท ุฏุฑ **ุชุจ ุงูู** ุธุงูุฑ ุดูุฏ

---

## ๐ ุนุจโุงุจ ู ูุงฺฏโูุง

### ูุดุงูุฏู ูุงฺฏโูุง:
1. F12 ุจุฒูุฏ (Developer Tools)
2. ุชุจ **Console** ุฑุง ุจุงุฒ ฺฉูุฏ
3. ูุงฺฏโูุง ุงุชุตุงู ู ูพุงูโูุง ุฑุง ูุดุงูุฏู ฺฉูุฏ

### ูุงฺฏโูุง ููู:
```
โ BroadcastSignalingService initialized
๐ Room: ABC123  
๐ Local Peer ID: xyz123
๐ Sending message: "ุณูุงู"
โ Chat message received from xyz456: "ุณูุงู"
```

### ุฏุฑ ุตูุญู ฺุช:
- ุฑู **"View Logs"** ฺฉูฺฉ ฺฉูุฏ
- ูุงฺฏโูุง ุฏุงุฎู ุงูพูฺฉุดู ุฑุง ูุดุงูุฏู ฺฉูุฏ

---

## โ๏ธ ูุดฺฉูุงุช ุงุญุชูุงู ู ุฑุงูโุญู

### ูุดฺฉู 1: "Data channel is not open"
**ุนูุช**: WebRTC ูููุฒ ุจุฑูุฑุงุฑ ูุดุฏู
**ุฑุงูโุญู**: ุนุงุฏ ุงุณุชุ ูพุงูโูุง via BroadcastChannel ุงุฑุณุงู ูโุดููุฏ

### ูุดฺฉู 2: ูพุงูโูุง ุงุฑุณุงู ููโุดููุฏ
**ุจุฑุฑุณ ฺฉูุฏ**:
- ุขุง ูุฑ ุฏู ุชุจ ููุงู Room ID ุฑุง ุฏุงุฑูุฏุ
- ุขุง Peer ID ูุฑ ุชุจ ูุชูุงูุช ุงุณุชุ
- ุขุง ูุงฺฏ "Chat message received" ุธุงูุฑ ูโุดูุฏุ

### ูุดฺฉู 3: ูพุงู ุจู ุฎูุฏ ฺฉุงุฑุจุฑ ุจุฑูโฺฏุฑุฏุฏ
**ุนูุช**: ููฺฉู ุงุณุช ุงุฒ ููุงู ุชุจ ุฏู ุจุงุฑ ุงุณุชูุงุฏู ฺฉุฑุฏู ุจุงุดุฏ
**ุฑุงูโุญู**: ุชุจโูุง ุฑุง refresh ฺฉูุฏ ู ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ

---

## โ ุชุณุช ููููุชโุขูุฒ

ุงฺฏุฑ ููู ฺุฒ ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ:

### ุฏุฑ ุชุจ ุงูู:
```
Room: ABC123
Peer: xyz123
Status: Connected

Messages:
[xyz456]: ุณูุงู ุงุฒ ฺฉุงุฑุจุฑ 2
[xyz456]: ฺุทูุฑุ
```

### ุฏุฑ ุชุจ ุฏูู:
```
Room: ABC123  
Peer: xyz456
Status: Connected

Messages:
[xyz123]: ุณูุงู ุงุฒ ฺฉุงุฑุจุฑ 1
[xyz123]: ุฎูุจู ุชู ฺุทูุฑุ
```

### ูฺฉุงุช ููู:
- ูุฑ ุชุจ ููุท ูพุงูโูุง **ุฏฺฏุฑุงู** ุฑุง ูุดุงู ูโุฏูุฏ
- ูพุงูโูุง ุงุฑุณุงู ุฎูุฏุชุงู ุฏุฑ ูุณุช ุธุงูุฑ ููโุดููุฏ (ุทุจุน ุงุณุช)
- Room ID ฺฉุณุงูุ Peer ID ูุชูุงูุช

---

## ๐ฏ ูุชุฌูโฺฏุฑ

ุงู ุชุณุช ูุดุงู ูโุฏูุฏ ฺฉู:
1. โ BroadcastChannel ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ
2. โ ูพุงูโูุง ุจู ุชุจโูุง ูุฎุชูู ุฑุฏ ู ุจุฏู ูโุดููุฏ  
3. โ ูุฑ ุชุจ instance ูุณุชูู ุฏุงุฑุฏ
4. โ ุณุณุชู P2P ูุญู ุจุฏูู ุณุฑูุฑ ฺฉุงุฑ ูโฺฉูุฏ

**ูฺฉุชู**: ุงู ุจุฑุง ูุญุท ุชูุณุนู ุงุณุช. ุจุฑุง production ูุงุฒ ุจู STUN/TURN server ุฏุงุฑุฏ.
